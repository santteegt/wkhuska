wkhomeControllers.controller("listSources",["sparqlQuery","$scope","globalData",function(e,u,c){u.datasources=[];var a=c.PREFIX+" Construct { ?subject uc:name ?name. ?subject uc:fullName ?fullName. ?subject uc:city ?city. ?subject uc:province ?province. } WHERE { graph <"+c.endpointsGraph+'> { ?subject uc:name ?name. ?subject uc:fullName ?fullName. ?subject uc:city ?city. ?subject uc:province ?province. FILTER (lang(?fullName) = "es").}} ';e.querySrv({query:a},function(e){jsonld.compact(e,c.CONTEXT,function(e,c){_.map(c["@graph"],function(e){var c={};c.id=e["@id"],c.name=e["uc:name"],c.fullName=e["uc:fullName"],c.city=e["uc:city"],c.url="http://www."+e["uc:name"].toLowerCase()+".edu.ec/",u.datasources.push({name:c.name,fullName:c.fullName["@value"],url:c.url,city:c.city})}),u.$apply(function(){u.sources=u.datasources}),waitingDialog.hide()})})}]);